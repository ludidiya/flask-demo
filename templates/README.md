# 模板

我们把包含变量和运算逻辑的 HTML 或其他格式的文本叫做模板，执行这些变量替换和逻辑计算工作的过程被称为渲染，这个工作由模板渲染引擎——Jinja2来完成。

inja2 的语法和 Python 大致相同。在模板里，需要添加特定的定界符将 Jinja2 语句和变量标记出来，下面是三种常用的定界符：

* `{{ ... }}` 用来标记变量。
* `{% ... %}` 用来标记语句，比如 if 语句，for 语句等。
* `{# ... #}` 用来写注释。

**过滤器**

为了方便对变量进行处理，Jinja2 提供了一些过滤器，语法形式如下：

```{{ 变量|过滤器 }}```

左侧是变量，右侧是过滤器名。比如，使用 length 过滤器来获取字符串的长度，类似 Python 里的 len() 函数。

[点击查看Jinja所有可用过滤器](https://jinja.palletsprojects.com/en/2.10.x/templates/#list-of-builtin-filters)

## 404 错误页面

404 错误页面模板

## 使用模板继承组织模板

对于模板内容重复的问题，Jinja2 提供了模板继承的支持。这个机制和 Python 类继承非常类似：我们可以定义一个父模板，一般会称之为基模板（base template）。基模板中包含完整的 HTML 结构和导航栏、页首、页脚都通用部分。在子模板里，我们可以使用 extends 标签来声明继承自某个基模板。
基模板（`templates/base.html`）中需要在实际的子模板中追加或重写的部分则可以定义成块（block）。块使用 block 标签创建， `或` 作为结束标记。通过在子模板里定义一个同样名称的块，你可以向基模板的对应块位置追加或重写内容。

在基模板里添加了两个块，一个是包含 `<head></head>` 内容的 `head` 块，另一个是用来在子模板中插入页面主体内容的 `content` 块。在复杂的项目里，可以定义更多的块，方便在子模板中对基模板的各个部分插入内容。另外，块的名字没有特定要求，可以自由修改。

在`index.html`第一行使用 `extends` 标签声明扩展自模板 `base.html`，可以理解成这个模板继承自 `base.html`。接着我们定义了 content 块，这里的内容会插入到基模板中 content 块的位置。

>**提示** 默认的块重写行为是覆盖，如果你想向父块里追加内容，可以在子块中使用 `super()` 声明，即 `{{ super() }}`。